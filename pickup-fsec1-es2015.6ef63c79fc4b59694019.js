addEventListener("message",({data:m})=>{const a=m.pickList,x=m.fsecCombine,t={},_={};for(const n of Object.keys(a)){const m={fx:0,fy:0,fz:0,mx:0,my:0,mz:0},f=a[n];let s=null;for(const a of f){const t=JSON.parse(JSON.stringify({temp:x[a]})).temp;if(null!=s)for(const a of Object.keys(t)){const x=a.split("_"),_=t[a],f=s[a];for(const m of Object.keys(f)){const n=f[m];if(!(m in _))continue;const e=_[m];"max"===x[1]?e[x[0]]>n[x[0]]&&(s[a][m]=t[a][m]):e[x[0]]<n[x[0]]&&(s[a][m]=t[a][m])}for(const t of s[a])m.fx=Math.max(Math.abs(t.fx),m.fx),m.fy=Math.max(Math.abs(t.fy),m.fy),m.fz=Math.max(Math.abs(t.fz),m.fz),m.mx=Math.max(Math.abs(t.mx),m.mx),m.my=Math.max(Math.abs(t.my),m.my),m.mz=Math.max(Math.abs(t.mz),m.mz)}else{s=t;for(const a of Object.keys(t))for(const x of s[a])m.fx=Math.max(Math.abs(x.fx),m.fx),m.fy=Math.max(Math.abs(x.fy),m.fy),m.fz=Math.max(Math.abs(x.fz),m.fz),m.mx=Math.max(Math.abs(x.mx),m.mx),m.my=Math.max(Math.abs(x.my),m.my),m.mz=Math.max(Math.abs(x.mz),m.mz)}}t[n]=s,_[n]=m,s=null}const f={};for(const n of Object.keys(t)){const m=t[n],a=Object.keys(m),x={};for(const t of a){const a=m[t];let _;t.includes("fx")?_="fx":t.includes("fy")?_="fy":t.includes("fz")?_="fz":t.includes("mx")?_="mx":t.includes("my")?_="my":t.includes("mz")&&(_="mz");let f=t.includes("max")?-65535:65535,n="0";if(t.includes("max"))for(let m=0;m<a.length;m++){const x=m.toString(),t=a[x][_];if(t>=f)if(f=t,""===a[x].m){let x;for(let t=m-1;t>0;t--){const m=t.toString();if(""!==a[m].m){x=a[m].m;break}}n=x}else n=a[x].m}else for(let m=0;m<a.length;m++){const x=m.toString(),t=a[x][_];if(t<=f)if(f=t,""===a[x].m){let x;for(let t=m-1;t>0;t--){const m=t.toString();if(""!==a[m].m){x=a[m].m;break}}n=x}else n=a[x].m}65535!==Math.abs(f)&&(x[t]={max:f,max_m:n})}0!==Object.keys(x).length&&(f[n]={x:{max_d:x.fx_max.max,max_d_m:x.fx_max.max_m,min_d:x.fx_min.max,min_d_m:x.fx_min.max_m,max_r:x.mx_max.max,max_r_m:x.mx_max.max_m,min_r:x.mx_min.max,min_r_m:x.mx_min.max_m},y:{max_d:x.fy_max.max,max_d_m:x.fy_max.max_m,min_d:x.fy_min.max,min_d_m:x.fy_min.max_m,max_r:x.my_max.max,max_r_m:x.my_max.max_m,min_r:x.my_min.max,min_r_m:x.my_min.max_m},z:{max_d:x.fz_max.max,max_d_m:x.fz_max.max_m,min_d:x.fz_min.max,min_d_m:x.fz_min.max_m,max_r:x.mz_max.max,max_r_m:x.mz_max.max_m,min_r:x.mz_min.max,min_r_m:x.mz_min.max_m}})}postMessage({fsecPickup:t,max_values:_,value_range:f})});