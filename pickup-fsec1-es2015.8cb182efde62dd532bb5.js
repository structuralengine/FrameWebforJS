addEventListener("message",({data:m})=>{const a=m.pickList,t=m.fsecCombine,n={},s={};for(const f of Object.keys(a)){const m={fx:0,fy:0,fz:0,mx:0,my:0,mz:0},e=a[f];let x=null;for(const a of e){const n=JSON.parse(JSON.stringify({temp:t[a]})).temp;if(null!=x)for(const a of Object.keys(n)){const t=a.split("_"),s=n[a],e=x[a];for(const m of Object.keys(e)){const f=e[m];if(!(m in s))continue;const _=s[m];"max"===t[1]?_[t[0]]>f[t[0]]&&(x[a][m]=n[a][m]):_[t[0]]<f[t[0]]&&(x[a][m]=n[a][m])}for(const n of x[a])m.fx=Math.max(Math.abs(n.fx),m.fx),m.fy=Math.max(Math.abs(n.fy),m.fy),m.fz=Math.max(Math.abs(n.fz),m.fz),m.mx=Math.max(Math.abs(n.mx),m.mx),m.my=Math.max(Math.abs(n.my),m.my),m.mz=Math.max(Math.abs(n.mz),m.mz)}else{x=n;for(const a of Object.keys(n))for(const t of x[a])m.fx=Math.max(Math.abs(t.fx),m.fx),m.fy=Math.max(Math.abs(t.fy),m.fy),m.fz=Math.max(Math.abs(t.fz),m.fz),m.mx=Math.max(Math.abs(t.mx),m.mx),m.my=Math.max(Math.abs(t.my),m.my),m.mz=Math.max(Math.abs(t.mz),m.mz)}}n[f]=x,s[f]=m,x=null}const e={};for(const f of Object.keys(n)){const m=n[f],a=Object.keys(m),t={};for(const n of a){const a=m[n];let s;n.includes("fx")?s="fx":n.includes("fy")?s="fy":n.includes("fz")?s="fz":n.includes("mx")?s="mx":n.includes("my")?s="my":n.includes("mz")&&(s="mz");let e=n.includes("max")?Number.MIN_VALUE:Number.MAX_VALUE,f="0";if(n.includes("max"))for(let m=0;m<a.length;m++){const t=m.toString(),n=a[t][s];if(n>=e)if(e=n,""===a[t].m){let t;for(let n=m-1;n>0;n--){const m=n.toString();if(""!==a[m].m){t=a[m].m;break}}f=t}else f=a[t].m}else for(let m=0;m<a.length;m++){const t=m.toString(),n=a[t][s];if(n<=e)if(e=n,""===a[t].m){let t;for(let n=m-1;n>0;n--){const m=n.toString();if(""!==a[m].m){t=a[m].m;break}}f=t}else f=a[t].m}Math.abs(e)!==Number.MAX_VALUE&&(t[n]={max:e,max_m:f})}if(0===Object.keys(t).length)continue;const s={x:{max_d:0,max_d_m:0,min_d:0,min_d_m:0,max_r:0,max_r_m:0,min_r:0,min_r_m:0},y:{max_d:0,max_d_m:0,min_d:0,min_d_m:0,max_r:0,max_r_m:0,min_r:0,min_r_m:0},z:{max_d:0,max_d_m:0,min_d:0,min_d_m:0,max_r:0,max_r_m:0,min_r:0,min_r_m:0}};for(const n of Object.keys(s)){let m="f"+n+"_max";m in t&&(s[n].max_d=t[m].max,s[n].max_d_m=t[m].max_m),m="f"+n+"_min",m in t&&(s[n].min_d=t[m].max,s[n].min_d_m=t[m].max_m);let a="m"+n+"_max";a in t&&(s[n].max_r=t[a].max,s[n].max_r_m=t[a].max_m),a="m"+n+"_min",a in t&&(s[n].min_r=t[a].max,s[n].min_r_m=t[a].max_m)}e[f]=s}postMessage({fsecPickup:n,max_values:s,value_range:e})});