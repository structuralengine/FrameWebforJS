addEventListener("message",({data:d})=>{const M=d.pickList,z=d.fsecCombine,y={},h={};for(const r of Object.keys(M)){const e={fx:0,fy:0,fz:0,mx:0,my:0,mz:0},u=M[r];let n=null;for(const o of u){const t=JSON.parse(JSON.stringify({temp:z[o]})).temp;if(null!=n)for(const m of Object.keys(t)){const a=m.split("_"),i=t[m],_=n[m];for(const s of Object.keys(_)){const f=_[s];if(!(s in i))continue;const c=i[s];"max"===a[1]?c[a[0]]>f[a[0]]&&(n[m][s]=t[m][s]):c[a[0]]<f[a[0]]&&(n[m][s]=t[m][s])}for(const s of n[m])e.fx=Math.max(Math.abs(s.fx),e.fx),e.fy=Math.max(Math.abs(s.fy),e.fy),e.fz=Math.max(Math.abs(s.fz),e.fz),e.mx=Math.max(Math.abs(s.mx),e.mx),e.my=Math.max(Math.abs(s.my),e.my),e.mz=Math.max(Math.abs(s.mz),e.mz)}else{n=t;for(const m of Object.keys(t))for(const a of n[m])e.fx=Math.max(Math.abs(a.fx),e.fx),e.fy=Math.max(Math.abs(a.fy),e.fy),e.fz=Math.max(Math.abs(a.fz),e.fz),e.mx=Math.max(Math.abs(a.mx),e.mx),e.my=Math.max(Math.abs(a.my),e.my),e.mz=Math.max(Math.abs(a.mz),e.mz)}}y[r]=n,h[r]=e,n=null}const k={};for(const r of Object.keys(y)){const e=y[r],u=Object.keys(e),n={};for(const t of u){const m=e[t];let a;t.includes("fx")?a="fx":t.includes("fy")?a="fy":t.includes("fz")?a="fz":t.includes("mx")?a="mx":t.includes("my")?a="my":t.includes("mz")&&(a="mz");let i=t.includes("max")?Number.MIN_VALUE:Number.MAX_VALUE,_="0";if(t.includes("max"))for(let s=0;s<m.length;s++){const f=s.toString(),c=m[f][a];if(c>=i)if(i=c,""===m[f].m){let l;for(let x=s-1;x>0;x--){const b=x.toString();if(""!==m[b].m){l=m[b].m;break}}_=l}else _=m[f].m}else for(let s=0;s<m.length;s++){const f=s.toString(),c=m[f][a];if(c<=i)if(i=c,""===m[f].m){let l;for(let x=s-1;x>0;x--){const b=x.toString();if(""!==m[b].m){l=m[b].m;break}}_=l}else _=m[f].m}Math.abs(i)!==Number.MAX_VALUE&&(n[t]={max:i,max_m:_})}if(0===Object.keys(n).length)continue;const o={x:{max_d:0,max_d_m:0,min_d:0,min_d_m:0,max_r:0,max_r_m:0,min_r:0,min_r_m:0},y:{max_d:0,max_d_m:0,min_d:0,min_d_m:0,max_r:0,max_r_m:0,min_r:0,min_r_m:0},z:{max_d:0,max_d_m:0,min_d:0,min_d_m:0,max_r:0,max_r_m:0,min_r:0,min_r_m:0}};for(const t of Object.keys(o)){let m="f"+t+"_max";m in n&&(o[t].max_d=n[m].max,o[t].max_d_m=n[m].max_m),m="f"+t+"_min",m in n&&(o[t].min_d=n[m].max,o[t].min_d_m=n[m].max_m);let a="m"+t+"_max";a in n&&(o[t].max_r=n[a].max,o[t].max_r_m=n[a].max_m),a="m"+t+"_min",a in n&&(o[t].min_r=n[a].max,o[t].min_r_m=n[a].max_m)}k[r]=o}postMessage({fsecPickup:y,max_values:h,value_range:k})});